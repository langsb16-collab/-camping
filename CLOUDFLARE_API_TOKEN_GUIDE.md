# Cloudflare API í† í° ë°œí–‰ ë° ê¶Œí•œ ì„¤ì • ê°€ì´ë“œ

## ğŸ”‘ 1ë‹¨ê³„: Cloudflare API í† í° ìƒì„±

### A. Cloudflare Dashboard ì ‘ì†
1. https://dash.cloudflare.com ì ‘ì†
2. ë¡œê·¸ì¸

### B. API í† í° ìƒì„± í˜ì´ì§€ ì´ë™
1. ìš°ì¸¡ ìƒë‹¨ **í”„ë¡œí•„ ì•„ì´ì½˜** í´ë¦­
2. **My Profile** ì„ íƒ
3. ì¢Œì¸¡ ë©”ë‰´ì—ì„œ **API Tokens** í´ë¦­
4. **Create Token** ë²„íŠ¼ í´ë¦­

---

## âš™ï¸ 2ë‹¨ê³„: API í† í° ê¶Œí•œ ì„¤ì •

### ğŸ“Œ **ë°©ë²• 1: í…œí”Œë¦¿ ì‚¬ìš© (ê¶Œì¥)**

#### "Edit Cloudflare Workers" í…œí”Œë¦¿ ì‚¬ìš©
1. **Edit Cloudflare Workers** í…œí”Œë¦¿ ì°¾ê¸°
2. **Use template** ë²„íŠ¼ í´ë¦­

ì´ í…œí”Œë¦¿ì€ ë‹¤ìŒ ê¶Œí•œì„ ìë™ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤:
- Workers Scripts: Edit
- Workers KV Storage: Edit
- Workers Routes: Edit
- D1: Edit
- Pages: Edit

---

### ğŸ“Œ **ë°©ë²• 2: ì»¤ìŠ¤í…€ í† í° (ì„¸ë°€í•œ ì œì–´)**

**Custom token** í…œí”Œë¦¿ì„ ì„ íƒí•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •:

#### **í•„ìˆ˜ ê¶Œí•œ (Permissions)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Account Permissions (ê³„ì • ê¶Œí•œ)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Cloudflare Pages           â†’ Edit                        â”‚
â”‚ âœ… D1                          â†’ Edit                        â”‚
â”‚ âœ… Workers Scripts             â†’ Edit                        â”‚
â”‚ âœ… Workers KV Storage          â†’ Edit (ì„ íƒì‚¬í•­)             â”‚
â”‚ âœ… Workers R2 Storage          â†’ Edit (ì„ íƒì‚¬í•­)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Zone Permissions (ë„ë©”ì¸ ê¶Œí•œ)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… DNS                         â†’ Edit                        â”‚
â”‚ âœ… SSL and Certificates        â†’ Edit (ì„ íƒì‚¬í•­)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **ì„¸ë¶€ ì„¤ì •**

##### 1. **Permission groups** ì„¹ì…˜
```
Account Permissions:
â”œâ”€ Cloudflare Pages: Edit
â”œâ”€ D1: Edit
â”œâ”€ Workers Scripts: Edit
â”œâ”€ Workers KV Storage: Edit (ì„ íƒ)
â””â”€ Workers R2 Storage: Edit (ì„ íƒ)

Zone Permissions:
â”œâ”€ DNS: Edit
â””â”€ SSL and Certificates: Edit (ì„ íƒ)
```

##### 2. **Account Resources** ì„¹ì…˜
```
Account:
â””â”€ Include â†’ [Your Account Name] ì„ íƒ
```

##### 3. **Zone Resources** ì„¹ì…˜
```
Zone:
â”œâ”€ Include â†’ Specific zone ì„ íƒ
â””â”€ feezone.store ì„ íƒ
```

##### 4. **Client IP Address Filtering** (ì„ íƒì‚¬í•­)
```
ëª¨ë“  IP í—ˆìš© (ê¸°ë³¸ê°’)
```

##### 5. **TTL** (í† í° ìœ íš¨ê¸°ê°„)
```
ì¶”ì²œ: 1 year (1ë…„)
ë˜ëŠ”: Custom â†’ ì›í•˜ëŠ” ê¸°ê°„ ì„¤ì •
```

---

## ğŸ¯ 3ë‹¨ê³„: í† í° ìƒì„± ì™„ë£Œ

### A. ì„¤ì • í™•ì¸
- **Token name**: `WildCamp-Deploy-Token` (ë˜ëŠ” ì›í•˜ëŠ” ì´ë¦„)
- ê¶Œí•œ ì„¤ì • ì¬í™•ì¸

### B. **Continue to summary** í´ë¦­

### C. **Create Token** í´ë¦­

---

## ğŸ” 4ë‹¨ê³„: í† í° ë³µì‚¬ ë° ì €ì¥

### âš ï¸ **ë§¤ìš° ì¤‘ìš”!**
```
ìƒì„±ëœ í† í°ì€ ë‹¨ í•œ ë²ˆë§Œ í‘œì‹œë©ë‹ˆë‹¤!
ë°˜ë“œì‹œ ì•ˆì „í•œ ê³³ì— ë³µì‚¬í•˜ì—¬ ì €ì¥í•˜ì„¸ìš”.
```

### í† í° í˜•ì‹ ì˜ˆì‹œ:
```
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

### ì €ì¥ ìœ„ì¹˜ (ê¶Œì¥):
- ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬ì (1Password, LastPass ë“±)
- ì•ˆì „í•œ ë©”ëª¨ ì•±
- í”„ë¡œì íŠ¸ .env íŒŒì¼ (ë¡œì»¬ë§Œ, Gitì— ì»¤ë°‹í•˜ì§€ ë§ ê²ƒ)

---

## ğŸ’» 5ë‹¨ê³„: ë¡œì»¬ í™˜ê²½ì— í† í° ì„¤ì •

### A. .dev.vars íŒŒì¼ ìƒì„± (ë¡œì»¬ ê°œë°œìš©)
```bash
cd /home/user/webapp

# .dev.vars íŒŒì¼ ìƒì„±
cat > .dev.vars << 'EOF'
CLOUDFLARE_API_TOKEN=your-token-here
EOF

# ê¶Œí•œ ì„¤ì •
chmod 600 .dev.vars
```

### B. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (ë°°í¬ìš©)
```bash
# Bash í”„ë¡œí•„ì— ì¶”ê°€
echo 'export CLOUDFLARE_API_TOKEN="your-token-here"' >> ~/.bashrc
source ~/.bashrc

# ë˜ëŠ” í˜„ì¬ ì„¸ì…˜ì—ë§Œ
export CLOUDFLARE_API_TOKEN="your-token-here"
```

---

## âœ… 6ë‹¨ê³„: í† í° í…ŒìŠ¤íŠ¸

### í† í° ì¸ì¦ í™•ì¸
```bash
# wranglerë¡œ ì¸ì¦ í™•ì¸
npx wrangler whoami

# ì˜ˆìƒ ì¶œë ¥:
# Getting User settings...
# ğŸ‘‹ You are logged in with an API Token, associated with the email 'your@email.com'!
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Account Name         â”‚ Account ID                       â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ Your Account         â”‚ xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ê¶Œí•œë³„ ìƒì„¸ ì„¤ëª…

### âœ… **í•„ìˆ˜ ê¶Œí•œ**

#### 1. **Cloudflare Pages: Edit**
- **ëª©ì **: Pages í”„ë¡œì íŠ¸ ìƒì„± ë° ë°°í¬
- **í•„ìš”í•œ ì‘ì—…**:
  - `wrangler pages project create`
  - `wrangler pages deploy`
  - Custom domain ì„¤ì •

#### 2. **D1: Edit**
- **ëª©ì **: D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë° ê´€ë¦¬
- **í•„ìš”í•œ ì‘ì—…**:
  - `wrangler d1 create`
  - `wrangler d1 migrations apply`
  - `wrangler d1 execute`

#### 3. **Workers Scripts: Edit**
- **ëª©ì **: Workers ìŠ¤í¬ë¦½íŠ¸ ë°°í¬
- **í•„ìš”í•œ ì‘ì—…**:
  - Worker ìŠ¤í¬ë¦½íŠ¸ ì—…ë¡œë“œ
  - Bindings ì„¤ì •

#### 4. **DNS: Edit**
- **ëª©ì **: DNS ë ˆì½”ë“œ ê´€ë¦¬
- **í•„ìš”í•œ ì‘ì—…**:
  - CNAME ë ˆì½”ë“œ ì¶”ê°€/ìˆ˜ì •
  - A ë ˆì½”ë“œ ì¶”ê°€/ìˆ˜ì •

### ğŸ”§ **ì„ íƒì  ê¶Œí•œ**

#### 5. **Workers KV Storage: Edit**
- **ëª©ì **: KV ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„±/ê´€ë¦¬
- **í•„ìš” ì—¬ë¶€**: KV ì‚¬ìš© ì‹œì—ë§Œ

#### 6. **Workers R2 Storage: Edit**
- **ëª©ì **: R2 ë²„í‚· ìƒì„±/ê´€ë¦¬
- **í•„ìš” ì—¬ë¶€**: íŒŒì¼ ì €ì¥ ì‹œì—ë§Œ

#### 7. **SSL and Certificates: Edit**
- **ëª©ì **: SSL ì¸ì¦ì„œ ê´€ë¦¬
- **í•„ìš” ì—¬ë¶€**: ê³ ê¸‰ SSL ì„¤ì • ì‹œ

---

## ğŸ¨ ê¶Œí•œ ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

### WildCamp í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ìµœì†Œ ê¶Œí•œ:
```
âœ… Account Permissions:
   âœ… Cloudflare Pages: Edit
   âœ… D1: Edit
   âœ… Workers Scripts: Edit

âœ… Zone Permissions:
   âœ… DNS: Edit

âœ… Account Resources:
   âœ… Include: [Your Account]

âœ… Zone Resources:
   âœ… Include: feezone.store

âœ… TTL:
   âœ… 1 year
```

---

## ğŸš¨ ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

### âš ï¸ **ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ**
```
âŒ í† í°ì„ GitHubì— ì»¤ë°‹
âŒ í† í°ì„ ê³µê°œ ì €ì¥ì†Œì— ì—…ë¡œë“œ
âŒ í† í°ì„ ì±„íŒ…/ë©”ì¼ë¡œ ê³µìœ 
âŒ í† í°ì„ ìŠ¤í¬ë¦°ìƒ· ì°ì–´ì„œ ê³µìœ 
âŒ í† í°ì„ ë¸Œë¼ìš°ì € ì½˜ì†”ì— ì¶œë ¥
```

### âœ… **ì˜¬ë°”ë¥¸ í† í° ê´€ë¦¬**
```
âœ… .env íŒŒì¼ì— ì €ì¥ (.gitignoreì— ì¶”ê°€)
âœ… ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬ì ì‚¬ìš©
âœ… í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •
âœ… í•„ìš”í•œ ìµœì†Œ ê¶Œí•œë§Œ ë¶€ì—¬
âœ… ì •ê¸°ì ìœ¼ë¡œ í† í° ì¬ë°œí–‰
âœ… ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í† í° ì‚­ì œ
```

---

## ğŸ”„ í† í° ì¬ë°œí–‰ ë° ê´€ë¦¬

### í† í°ì´ ìœ ì¶œëœ ê²½ìš°:
1. **ì¦‰ì‹œ í† í° ì‚­ì œ**:
   - Cloudflare Dashboard â†’ API Tokens
   - í•´ë‹¹ í† í° ì°¾ê¸°
   - **Roll** ë˜ëŠ” **Delete** í´ë¦­

2. **ìƒˆ í† í° ë°œí–‰**:
   - ìœ„ ë‹¨ê³„ ë‹¤ì‹œ ìˆ˜í–‰
   - ìƒˆ í† í°ìœ¼ë¡œ í™˜ê²½ ì—…ë°ì´íŠ¸

### í† í° ê¶Œí•œ ìˆ˜ì •:
1. Cloudflare Dashboard â†’ API Tokens
2. í•´ë‹¹ í† í°ì˜ **Edit** í´ë¦­
3. ê¶Œí•œ ìˆ˜ì •
4. **Update Token** í´ë¦­

---

## ğŸ“ ë¬¸ì œ í•´ê²°

### "Invalid API Token" ì˜¤ë¥˜
```
ì›ì¸:
- í† í°ì´ ë§Œë£Œë¨
- í† í° ê¶Œí•œì´ ë¶€ì¡±í•¨
- í† í°ì´ ì‚­ì œë¨

í•´ê²°:
1. npx wrangler whoami ë¡œ í† í° í™•ì¸
2. í† í° ì¬ë°œí–‰
3. í™˜ê²½ ë³€ìˆ˜ ì—…ë°ì´íŠ¸
```

### "Insufficient permissions" ì˜¤ë¥˜
```
ì›ì¸:
- í•„ìš”í•œ ê¶Œí•œì´ ì—†ìŒ
- Zone/Account ì„¤ì •ì´ ì˜ëª»ë¨

í•´ê²°:
1. í† í° ê¶Œí•œ í™•ì¸
2. í•„ìš”í•œ ê¶Œí•œ ì¶”ê°€
3. Zone Resources í™•ì¸
```

---

## ğŸ¯ GenSpark Deploy íƒ­ ì„¤ì •

**GenSparkì—ì„œ API í† í° ì„¤ì •:**

1. **Deploy íƒ­** í´ë¦­ (ì‚¬ì´ë“œë°”)
2. **Cloudflare ì„¹ì…˜** ì°¾ê¸°
3. **API Token ì…ë ¥ë€**ì— í† í° ë¶™ì—¬ë„£ê¸°
4. **Save** ë˜ëŠ” **Update** í´ë¦­

ì„¤ì • ì™„ë£Œ í›„:
- `setup_cloudflare_api_key` ë„êµ¬ ì‹¤í–‰ ê°€ëŠ¥
- `wrangler` ëª…ë ¹ì–´ ì‚¬ìš© ê°€ëŠ¥

---

## âœ¨ ì™„ë£Œ!

í† í° ë°œí–‰ ë° ì„¤ì •ì´ ì™„ë£Œë˜ë©´:
```bash
# 1. ì¸ì¦ í™•ì¸
npx wrangler whoami

# 2. D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
npx wrangler d1 create webapp-production

# 3. Pages ë°°í¬
npm run build
npx wrangler pages deploy dist --project-name webapp

# 4. DNS ì„¤ì •
# Cloudflare Dashboardì—ì„œ ìˆ˜ë™ ë˜ëŠ” ìë™ ì„¤ì •
```

---

**ğŸŠ ì´ì œ Cloudflare Pagesì— í”„ë¡œë•ì…˜ ë°°í¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤!**
